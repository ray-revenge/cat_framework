local dec dolocal b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"function dec(data)data = string.gsub(data,"[^"..b.."=]", "")return (data:gsub(".", function(x)if (x == "=") then return "" endlocal r,f="",(b:find(x)-1)for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and "1" or "0") endreturn r;end):gsub("%d%d%d?%d?%d?%d?%d?%d?", function(x)if (#x ~= 8) then return "" endlocal c=0for i=1,8 do c=c+(x:sub(i,i)=="1" and 2^(8-i) or 0) endreturn string.char(c)end))end endlocal truncatedlocal build dolocal link = "https://api.github.com/repos/ray-revenge/cat_framework/git/trees/master"local http = game:GetService("HttpService")local function getTree(link)return http:JSONDecode(http:GetAsync(link)).treeendlocal data = http:JSONDecode(http:GetAsync(link))local tree = data.treetruncated = data.truncatedlocal rs = game:GetService("ReplicatedStorage")local function ct(an,sub)if not an or not sub then return endlocal f = Instance.new("Folder",an)f.Name = sub.pathlocal newt = getTree(sub.url)ct(f,newt)endfunction build(overwrite)if rs:FindFirstChild("CatFramework") and overwrite thenrs.CatFramework:Destroy()endlocal frame = Instance.new("Folder",rs)frame.Name = "CatFramework"for i = 1,#tree dolocal f = tree[i]if f.path == "README.md" thenlocal readme = Instance.new("Script",frame)readme.Disabled = truereadme.Name = "README"readme.Source = "--\[\[\n"..dec(http:JSONDecode(http:GetAsync(f.url)).content).."\n\]\]"elseif f.path == "source" thenlocal t = getTree(f.url)for it = 1,#t dolocal cur = t[it]if cur.type == "tree" thenct(frame,cur)elseif cur.type == "blob" thenfor i,v in next, cur doprint(i,v)endlocal src = dec(http:JSONDecode(http:GetAsync(cur.url)).content)local type = src:match("^%-%-(%a+)\n")assert(type=="ModuleScript"or type=="Script"or type=="LocalScript","Invalid source type")local file = Instance.new(type)file.Name = cur.path:gsub(".lua","")file.Source = srcif cur.path == "main.lua" thenfile.Parent = frameelsecoroutine.wrap(function() file.Parent = frame:WaitForChild("main") end)()endendendendendend endbuild(true)
